var caroucssel=function(t){"use strict";const e=new WeakMap;function n(t,n,i){const s=e.get(t)||{};if(n in s)return s[n];const o=i();return s[n]=o,e.set(t,s),o}function i(t,n){const i=e.get(t);i&&(i[n]=void 0,delete i[n])}function s(t){e.delete(t)}function o(t,e){let n=null;return(...i)=>{null!==n&&clearTimeout(n),n=setTimeout((()=>t(...i)),e)}}function l(t,e){const n=document.createElement("div");n.innerHTML=t(e);const i=n.firstElementChild;return i||null}class a{constructor(){window.addEventListener("resize",(()=>{i(this,"dimensions")}))}get dimensions(){return n(this,"dimensions",(()=>{const t=document.createElement("div"),e=document.createElement("div");document.body.appendChild(e),e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.appendChild(t),t.style.width="200px",t.style.height="100%",e.style.width="150px",e.style.height="200px",e.style.overflow="hidden";const n=t.offsetHeight;e.style.overflow="scroll";let i=t.offsetHeight;i=n===i?e.clientHeight:i;const s=n-i;return document.body.removeChild(e),{height:s}}))}}const r=/^caroucssel-[0-9]*$/,h="index",c="pages",d="page-index",u=.25,p=/^(link|meta|noscript|script|style|title)$/i,g="scroll",m="resize",_={className:"is-previous",label:"Previous",title:"Go to previous"},f={className:"is-next",label:"Next",title:"Go to next"},b={hasButtons:!1,buttonClassName:"button",buttonTemplate:({className:t,controls:e,label:n,title:i})=>`\n\t\t<button type="button" class="${t}" aria-label="${n}" title="${i}" aria-controls="${e}">\n\t\t\t<span>${n}</span>\n\t\t</button>\n\t`,buttonPrevious:_,buttonNext:f,hasPagination:!1,paginationClassName:"pagination",paginationLabel:({index:t})=>`${t+1}`,paginationTitle:({index:t})=>`Go to ${t+1}. page`,paginationTemplate:({className:t,controls:e,pages:n,label:i,title:s})=>`\n\t\t<ul class="${t}">\n\t\t\t${n.map(((t,o)=>{const l={index:o,page:t,pages:n},a=i(l),r=s(l);return`<li>\n\t\t\t\t\t<button type="button" aria-controls="${e}" aria-label="${r}" title="${r}">\n\t\t\t\t\t\t<span>${a}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</li>`})).join("")}\n\t\t</ul>\n\t`,hasScrollbars:!1,scrollbarsMaskClassName:"caroucssel-mask",filterItem:()=>!0,onScroll:()=>{}};let v,x=0;return t.Carousel=class{static resetInstanceCount(){}_el;_id;_options;_mask=null;_isSmooth=!1;_scrollbarHeight=void 0;_previous=null;_next=null;_pagination=null;_paginationButtons=null;constructor(t,e={}){if(!(t&&t instanceof Element))throw new Error(`Carousel needs a dom element but "${typeof t}" was passed.`);this._el=t,v=v||new a,x++,t.id=t.id||`caroucssel-${x}`,this._id=t.id,this._mask=null;const n={...b,...e};switch(this._options=n,this._addButtons(),this._addPagination(),this._updateScrollbars(),!0){case Array.isArray(e.index):this.index=e.index;break;case!isNaN(e.index):this.index=[e.index]}this._isSmooth=!0,this._onScroll=o(this._onScroll.bind(this),25),this._onResize=o(this._onResize.bind(this),25),t.addEventListener(g,this._onScroll),window.addEventListener(m,this._onResize)}get el(){return this._el}get id(){return this._id}get index(){return n(this,h,(()=>{const{el:t,items:e}=this,{length:n}=e,{clientWidth:i}=t,s=t.getBoundingClientRect().left,o=[];let l=0;for(;l<n;l++){const t=e[l].getBoundingClientRect(),{width:n}=t;let{left:a}=t;a-=s,a+n*u>=0&&a+.75*n<=i&&o.push(l)}return 0===o.length?[0]:o}))}set index(t){const{el:e,items:n}=this,{length:s}=n;if(!Array.isArray(t)||!t.length)return;if(0===s)return;let o=t[0]||0;o=Math.max(Math.min(o,s-1),0);const{scrollLeft:l}=e,a=l,r={left:n[o].offsetLeft};if(o===this.pages[0][0]&&(r.left=0),a===r.left)return;i(this,h);const c=this._isSmooth?"smooth":"auto";e.scrollTo({...r,behavior:c})}get items(){return n(this,"items",(()=>{const{el:t,_options:{filterItem:e}}=this;return Array.from(t.children).filter((t=>!p.test(t.tagName)&&!t.hidden)).filter(e)}))}get pages(){return n(this,c,(()=>{const{el:t,items:e}=this,{clientWidth:n}=t;if(0===n)return e.map(((t,e)=>[e]));let i=[[]];return e.map(((t,e)=>{const{offsetLeft:n,clientWidth:i}=t;return{left:n,width:i,item:t,index:e}})).sort(((t,e)=>t.left-e.left)).forEach((t=>{const{left:e,width:s}=t,o=i[i.length-1];let l=o[0]?.left||0;o===i[0]&&(l=0);let a=Math.floor((e-l+.75*s)/n);for(;a>0;)i.push([]),a--;i[i.length-1].push(t)})),i=i.filter((t=>0!==t.length)),i.map((t=>t.map((({index:t})=>t))))}))}get pageIndex(){return n(this,d,(()=>{const{el:t,items:e,index:n,pages:i}=this,s=t.getBoundingClientRect().left,{clientWidth:o}=t;let l=n.reduce(((t,n)=>{if(!e[n])return t;let{left:i,right:l}=e[n].getBoundingClientRect();return i=Math.round(i-s),l=Math.round(l-s),i<0||o<l?t:t.concat([n])}),[]);0===l.length&&(l=[n[0]]);const a=l.sort(((t,n)=>{const i=e[t].getBoundingClientRect().right;return e[n].getBoundingClientRect().right-i}))[0];return i.findIndex((t=>t.includes(a)))}))}destroy(){const{el:t}=this;r.test(t.id)&&t.removeAttribute("id"),this._removeButtons(),this._removePagination(),this._removeScrollbars(),t.removeEventListener(g,this._onScroll),window.removeEventListener(m,this._onResize),s(this)}update(){s(this),this._updateButtons(),this._updatePagination(),this._updateScrollbars()}_updateScrollbars(){const{el:t,_options:e}=this,{hasScrollbars:n,scrollbarsMaskClassName:i}=e;if(n)return;let{height:s}=v.dimensions;if(t.scrollWidth<=t.clientWidth&&(s=0),this._mask=this._mask||(()=>{const e=document.createElement("div");return e.className=i,e.style.overflow="hidden",e.style.height="100%",t.parentNode?.insertBefore(e,this.el),e.appendChild(t),e})(),s===this._scrollbarHeight)return;const o=t;o.style.height=`calc(100% + ${s}px)`,o.style.marginBottom=-1*s+"px",this._scrollbarHeight=s}_removeScrollbars(){const{_mask:t,el:e}=this;t&&(t.parentNode?.insertBefore(e,t),t.parentNode?.removeChild(t),e.removeAttribute("style"),this._mask=null)}_addButtons(){const{el:t,id:e,_options:n}=this;if(!n.hasButtons)return;const{buttonTemplate:i,buttonClassName:s,buttonPrevious:o,buttonNext:a}=n,r=e,[h,c]=[{..._,...o,controls:r,className:[s,o.className].join(" ")},{...f,...a,controls:r,className:[s,a.className].join(" ")}].map((t=>l(i,t)));if(h){const e=()=>{const{pages:t,pageIndex:e}=this,n=t[e-1]||t[0];this.index=n};h.onclick=e,t.parentNode?.appendChild(h)}if(this._previous=h,c){const e=()=>{const{pages:t,pageIndex:e}=this,n=t[e+1]||t[t.length-1];this.index=n};c.onclick=e,t.parentNode?.appendChild(c)}this._next=c,this._updateButtons()}_updateButtons(){const{_options:t}=this;if(!t.hasButtons)return;const{pages:e,pageIndex:n,_previous:i,_next:s}=this;if(i){const t=void 0===e[n-1];i.disabled=t}if(s){const t=void 0===e[n+1];s.disabled=t}}_removeButtons(){const{_previous:t,_next:e}=this;[t,e].forEach((t=>{t&&(t.onclick=null,t.parentNode?.removeChild(t))}))}_addPagination(){const{_options:t}=this;if(!t.hasPagination)return;const{_mask:e,el:n,id:i,pages:s}=this;if(s.length<2)return;const{paginationTemplate:o,paginationClassName:a,paginationLabel:r,paginationTitle:h}=t,c=l(o,{pages:s,controls:i,className:a,label:r,title:h});if(!c)return;const d=Array.from(c.querySelectorAll("button")).map(((t,e)=>(t.onclick=()=>this.index=s[e],t)));(e||n).parentNode?.appendChild(c),this._pagination=c,this._paginationButtons=d,this._updatePagination()}_updatePagination(){const{_options:t}=this;if(!t.hasPagination)return;const{pageIndex:e,_paginationButtons:n}=this;n&&n.forEach(((t,n)=>t.disabled=n===e))}_removePagination(){const{_pagination:t,_paginationButtons:e}=this;(e||[]).forEach((t=>{t.onclick=null,t.parentNode?.removeChild(t)})),this._paginationButtons=null,t&&t.parentNode?.removeChild(t),this._pagination=null}_onScroll(t){i(this,h),i(this,d),this._updateButtons(),this._updatePagination();const{index:e,_options:{onScroll:n}}=this;n&&n({index:e,type:g,target:this,originalEvent:t})}_onResize(){i(this,c),i(this,h),i(this,d),this._updateButtons(),this._removePagination(),this._addPagination(),this._updateScrollbars()}},Object.defineProperty(t,"__esModule",{value:!0}),t}({});

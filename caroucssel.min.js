!function(t,e){var n;"function"==typeof define&&define.amd?define("caroucssel",["exports"],e):"undefined"!=typeof exports?e(exports):(e(n={}),t.caroucssel=n)}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,function(t){"use strict";function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function e(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function c(o){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e(Object(r),!0).forEach(function(t){var e,n,i;e=o,i=r[n=t],n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(r,t))})}return o}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}Object.defineProperty(t,"__esModule",{value:!0}),t.Carousel=void 0;function h(t,e,n){if(t[f]=t[f]||{},e in t[f])return t[f][e];var i=n();return t[f][e]=i}function l(t,e){var n=t[f];n&&delete n[e]}function d(t){return delete t[f]}var f="__cache__",p=function(){function e(){var t=this;r(this,e),this._d=null,window.addEventListener("resize",function(){return t._d=null})}return s(e,[{key:"dimensions",get:function(){var t,e,n,i,o,r,a,s;return this._d=this._d||(a=document.createElement("div"),s=document.createElement("div"),document.body.appendChild(s),s.style.position="absolute",s.style.top="0px",s.style.left="0px",s.style.visibility="hidden",s.appendChild(a),a.style.width="100%",a.style.height="200px",s.style.width="200px",s.style.height="150px",s.style.overflow="hidden",e=a.offsetWidth,s.style.overflow="scroll",t=e-(n=e===(n=a.offsetWidth)?s.clientWidth:n),a.style.width="200px",a.style.height="100%",s.style.width="150px",s.style.height="200px",s.style.overflow="hidden",o=a.offsetHeight,s.style.overflow="scroll",i=o-(r=o===(r=a.offsetHeight)?s.clientHeight:r),document.body.removeChild(s),{width:t,height:i}),this._d}}]),e}();function v(o,r){var a;return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=this;window.clearTimeout(a),a=setTimeout(function(){return o.apply(i,e)},r)}}function g(t,e){var n=document.createElement("div");n.innerHTML=t(e);var i=n.firstChild;return i instanceof HTMLElement?i:null}var m=function(t){return"caroucssel-".concat(t)},y=/^caroucssel-[0-9]*$/,b="index",_="pages",x="page-index",w=/^(link|meta|noscript|script|style|title)$/i,k="scroll",S="resize",C={index:void 0,hasButtons:!1,buttonClassName:"button",buttonTemplate:function(t){var e=t.className,n=t.controls,i=t.label,o=t.title;return'<button type="button" class="'.concat(e,'" aria-label="').concat(i,'" title="').concat(o,'" aria-controls="').concat(n,'">\n\t\t<span>').concat(i,"</span>\n\t</button>")},buttonPrevious:null,buttonNext:null,hasPagination:!1,paginationClassName:"pagination",paginationLabel:function(t){var e=t.index;return"".concat(e+1)},paginationTitle:function(t){var e=t.index;return"Go to ".concat(e+1,". page")},paginationTemplate:function(t){var e=t.className,r=t.controls,a=t.pages,s=t.label,l=t.title;return'<ul class="'.concat(e,'">\n\t\t').concat(a.map(function(t,e){var n={index:e,page:t,pages:a},i=s(n),o=l(n);return'<li>\n\t\t\t\t<button type="button" aria-controls="'.concat(r,'" aria-label="').concat(o,'" title="').concat(o,'">\n\t\t\t\t\t<span>').concat(i,"</span>\n\t\t\t\t</button>\n\t\t\t</li>")}).join(""),"\n\t</ul>")},hasScrollbars:!1,scrollbarsMaskClassName:"caroucssel-mask",filterItem:function(){return!0},onScroll:null},N={className:"is-previous",label:"Previous",title:"Go to previous"},P={className:"is-next",label:"Next",title:"Go to next"},B=0,O=null,n=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(r(this,n),!(t&&t instanceof HTMLElement))throw new Error('Carousel needs a dom element but "'.concat(o(t),'" was passed.'));this._el=t,O=O||new p,B++,t.id=t.id||m(B),this._id=t.id,this._options=c(c({},C),e),this._options.buttonPrevious=c(c({},N),e.buttonPrevious),this._options.buttonNext=c(c({},P),e.buttonNext),this._addButtons(),this._addPagination(),this._updateScrollbars(),this._isSmooth=!1,this.index=this._options.index||this.pages[0],this._isSmooth=!0,this._onScroll=v(this._onScroll.bind(this),25),this._onResize=v(this._onResize.bind(this),25),t.addEventListener(k,this._onScroll),window.addEventListener(S,this._onResize)}return s(n,[{key:"destroy",value:function(){var t=this.el;y.test(t.id)&&t.removeAttribute("id"),this._removeButtons(),this._removePagination(),this._removeScrollbars(),t.removeEventListener(k,this._onScroll),window.removeEventListener(S,this._onResize),d(this)}},{key:"update",value:function(){d(this),this._updateButtons(),this._updatePagination(),this._updateScrollbars()}},{key:"_updateScrollbars",value:function(){var t,e,n=this,i=this.el,o=this._options,r=o.hasScrollbars,a=o.scrollbarsMaskClassName;r||(t=O.dimensions.height,i.scrollWidth<=i.clientWidth&&(t=0),this._mask=this._mask||((e=document.createElement("div")).className=a,e.style.overflow="hidden",e.style.height="100%",n.el.parentNode.insertBefore(e,n.el),e.appendChild(n.el),e),t!==this._scrollbarHeight&&(this.el.style.height="calc(100% + ".concat(t,"px)"),this.el.style.marginBottom="".concat(-1*t,"px"),this._scrollbarHeight=t))}},{key:"_removeScrollbars",value:function(){var t=this._mask,e=this.el;this._mask&&(t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t),e.removeAttribute("style"))}},{key:"_addButtons",value:function(){var e,n,t,i,o,r=this,a=this.el,s=this.id,l=this._options;l.hasButtons&&(e=l.buttonTemplate,n=l.buttonClassName,i=(t=u([l.buttonPrevious,l.buttonNext].map(function(t){return g(e,c(c({},t),{},{controls:s,className:"".concat(n," ").concat(t.className)}))}),2))[0],o=t[1],i&&(i.onclick=function(){var t=r.pages,e=t[r.pageIndex-1]||t[0];r.index=e},a.parentNode.appendChild(i)),this._previous=i,o&&(o.onclick=function(){var t=r.pages,e=t[r.pageIndex+1]||t[t.length-1];r.index=e},a.parentNode.appendChild(o)),this._next=o,this._updateButtons())}},{key:"_updateButtons",value:function(){var t,e,n,i,o,r;this._options.hasButtons&&(t=this.pages,e=this.pageIndex,n=this._previous,i=this._next,n&&(o=void 0===t[e-1],n.disabled=o),i&&(r=void 0===t[e+1],i.disabled=r))}},{key:"_removeButtons",value:function(){[this._previous,this._next].forEach(function(t){t&&(t.onclick=null,t.parentNode.removeChild(t))})}},{key:"_addPagination",value:function(){var t,e,n,i,o,r,a,s,l,u,c=this,h=this._options;h.hasPagination&&(t=this._mask,e=this.el,n=this.id,(i=this.pages).length<2||(o=h.paginationTemplate,r=h.paginationClassName,a=h.paginationLabel,s=h.paginationTitle,(l=g(o,{pages:i,controls:n,className:r,label:a,title:s}))&&(u=Array.from(l.querySelectorAll("button")).map(function(t,e){return t.onclick=function(){return c.index=i[e]},t}),(t||e).parentNode.appendChild(l),this._pagination=l,this._paginationButtons=u,this._updatePagination())))}},{key:"_updatePagination",value:function(){var n;this._options.hasPagination&&(n=this.pageIndex,this._paginationButtons.forEach(function(t,e){return t.disabled=e===n}))}},{key:"_removePagination",value:function(){var t=this._pagination;(this._paginationButtons||[]).forEach(function(t){t.onclick=null,t.parentNode.removeChild(t)}),this._paginationButtons=null,t&&t.parentNode.removeChild(t),this._pagination=null}},{key:"_onScroll",value:function(t){l(this,b),l(this,x),this._updateButtons(),this._updatePagination();var e=this.index,n=this._options.onScroll;n&&n({index:e,type:k,target:this,originalEvent:t})}},{key:"_onResize",value:function(){l(this,_),l(this,b),l(this,x),this._updateButtons(),this._removePagination(),this._addPagination(),this._updateScrollbars()}},{key:"el",get:function(){return this._el}},{key:"id",get:function(){return this._id}},{key:"index",get:function(){var c=this;return h(this,b,function(){for(var t=c.el,e=c.items,n=e.length,i=t.clientWidth,o=t.getBoundingClientRect().left,r=[],a=0;a<n;a++){var s=e[a].getBoundingClientRect(),l=s.left,u=s.width;0<=(l-=o)+.25*u&&l+.75*u<=i&&r.push(a)}return 0===r.length?[0]:r})},set:function(t){var e,n,i,o=this.el,r=this.items,a=r.length;0!==a&&(e=t[0]||0,e=Math.max(Math.min(e,a-1),0),o.scrollLeft!==(n={left:r[e].offsetLeft}).left&&(l(this,b),i=this._isSmooth?"smooth":"auto",o.scrollTo(c(c({},n),{},{behavior:i}))))}},{key:"items",get:function(){var n=this;return h(this,"items",function(){var t=n.el,e=n._options.filterItem;return Array.from(t.children).filter(function(t){return!w.test(t.tagName)&&!t.hidden}).filter(e)})}},{key:"pages",get:function(){var n=this;return h(this,_,function(){var t=n.el,e=n.items,a=t.clientWidth;if(0===a)return e.map(function(t,e){return[e]});var s=[[]];return e.map(function(t,e){return{left:t.offsetLeft,width:t.clientWidth,item:t,index:e}}).sort(function(t,e){return t.left-e.left}).forEach(function(t){for(var e=t.left,n=t.width,i=s[s.length-1],o=(i[0]?i[0]:{left:0}).left,r=Math.floor((e-o+.75*n)/a);0<r;)s.push([]),r--;s[s.length-1].push(t)}),(s=s.filter(function(t){return 0!==t.length})).map(function(t){return t.map(function(t){return t.index})})})}},{key:"pageIndex",get:function(){var l=this;return h(this,x,function(){var t=l.el,r=l.items,e=l.index,n=l.pages,a=t.getBoundingClientRect().left,s=t.clientWidth,i=e.reduce(function(t,e){if(!r[e])return t;var n=r[e].getBoundingClientRect(),i=n.left,o=n.right;return o-=a,(i-=a)<0||s<o?t:t.concat([e])},[]);0===i.length&&(i=[e[0]]);var o=i.sort(function(t,e){var n=r[t].getBoundingClientRect().right;return r[e].getBoundingClientRect().right-n})[0];return n.findIndex(function(t){return t.includes(o)})})}}]),n}();t.Carousel=n});
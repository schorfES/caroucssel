{"version":3,"sources":["../src/utils/cache.ts","../src/utils/debounce.ts","../src/utils/render.ts","../src/utils/scrollbar.ts","../src/caroucssel.ts","script.ts"],"names":[],"mappings":"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","file":"script.92144b3e.js","sourceRoot":"../web","sourcesContent":["// The key of a WeakMap must be an object. There is no other type that matches\n// or is valid for @typescript-eslint.\n// eslint-disable-next-line @typescript-eslint/ban-types\ntype Reference = object;\n\ntype Storage = {\n\t[key: string]: unknown;\n};\n\nconst __CACHE = new WeakMap<Reference, Storage>();\n\n/**\n * Returns the cache entry by as specific key of a given reference. If the cache\n * is not filled and the key doesn't exisit, the factory function is called to\n * generate a value.\n * @param ref the reference\n * @param key the storage key\n * @param factory the factory function\n * @returns the cached value\n */\nexport function fromCache<T = unknown>(ref: Reference, key: string, factory: () => T): T {\n\tconst storage = __CACHE.get(ref) || {};\n\tif (key in storage) {\n\t\treturn storage[key] as T;\n\t}\n\n\tconst value = factory();\n\tstorage[key] = value;\n\t__CACHE.set(ref, storage);\n\treturn value;\n}\n\n/**\n * Explicitly writes a value into the cache.\n * @param ref the reference\n * @param key the storage key\n * @param value the value\n */\nexport function writeCache<T = unknown>(ref: Reference, key: string, value: T): void {\n\tconst storage = __CACHE.get(ref) || {};\n\tstorage[key] = value;\n\t__CACHE.set(ref, storage);\n}\n\n/**\n * Creates the cache entry by as specific key of a given reference.\n * @param ref the reference\n * @param key the storage key\n */\nexport function clearCache(ref: Reference, key: string): void {\n\tconst storage = __CACHE.get(ref);\n\tif (!storage) {\n\t\treturn;\n\t}\n\n\tstorage[key] = undefined;\n\tdelete(storage[key]);\n}\n\n/**\n * Clears the full cache by a given reference.\n * @param ref the reference.\n */\nexport function clearFullCache(ref: Reference): void {\n\t__CACHE.delete(ref);\n}\n\n/**\n * This exposes the cache instance for test environments. Otherwise it will be null.\n */\nexport const cacheInstance = (process.env.NODE_ENV === 'test') ? __CACHE : null;\n","// See: https://codeburst.io/throttling-and-debouncing-in-javascript-b01cad5c8edf\n\ntype Source = (...args: never[]) => unknown;\ntype Debounced<F extends Source> = (...args: Parameters<F>) => void;\n\nexport function debounce<F extends Source>(func: F, delay: number): Debounced<F> {\n\tlet timeout: ReturnType<typeof setTimeout> | null = null;\n\tconst debounced = (...args: Parameters<F>) => {\n\t\tif (timeout !== null) {\n      clearTimeout(timeout);\n\t\t}\n\n\t\ttimeout = setTimeout(() => func(...args), delay);\n\t};\n\n\treturn debounced;\n}\n","export function render<El = HTMLElement, Data = Record<string, unknown>>(\n\ttemplate: (data: Data) => string,\n\tdata: Data,\n): El | null {\n\tconst el = document.createElement('div');\n\tel.innerHTML = template(data);\n\n\tconst ref = el.firstElementChild;\n\tif (!ref) {\n\t\treturn null;\n\t}\n\n\treturn ref as unknown as El;\n}\n","import { clearCache, fromCache } from './cache';\n\n\nexport type ScrollbarDimensions = {\n\theight: number,\n};\n\nexport class Scrollbar {\n\n\tconstructor() {\n\t\twindow.addEventListener('resize', () => {\n\t\t\tclearCache(this, 'dimensions');\n\t\t});\n\t}\n\n\t// Inspired by https://gist.github.com/kflorence/3086552\n\tget dimensions(): ScrollbarDimensions {\n\t\treturn fromCache<ScrollbarDimensions>(this, 'dimensions', () => {\n\t\t\tconst inner = document.createElement('div');\n\t\t\tconst outer = document.createElement('div');\n\n\t\t\tdocument.body.appendChild(outer);\n\t\t\touter.style.position = 'absolute';\n\t\t\touter.style.top = '0px';\n\t\t\touter.style.left = '0px';\n\t\t\touter.style.visibility = 'hidden';\n\t\t\touter.appendChild(inner);\n\n\t\t\t// Disabled, not needed for current feature set.\n\t\t\t//\n\t\t\t// Calculate width:\n\t\t\t// inner.style.width = '100%';\n\t\t\t// inner.style.height = '200px';\n\t\t\t// outer.style.width = '200px';\n\t\t\t// outer.style.height = '150px';\n\t\t\t// outer.style.overflow = 'hidden';\n\t\t\t// w1 = inner.offsetWidth;\n\t\t\t// outer.style.overflow = 'scroll';\n\t\t\t// w2 = inner.offsetWidth;\n\t\t\t// w2 = (w1 === w2) ? outer.clientWidth : w2;\n\t\t\t// width = w1 - w2;\n\n\t\t\t// Calculate height:\n\t\t\tinner.style.width = '200px';\n\t\t\tinner.style.height = '100%';\n\t\t\touter.style.width = '150px';\n\t\t\touter.style.height = '200px';\n\t\t\touter.style.overflow = 'hidden';\n\n\t\t\tconst h1 = inner.offsetHeight;\n\t\t\touter.style.overflow = 'scroll';\n\t\t\tlet h2 = inner.offsetHeight;\n\t\t\th2 = (h1 === h2) ? outer.clientHeight : h2;\n\t\t\tconst height = h1 - h2;\n\n\t\t\tdocument.body.removeChild(outer);\n\n\t\t\treturn {\n\t\t\t\t// width,\n\t\t\t\theight,\n\t\t\t};\n\t\t});\n\t}\n\n}\n","import { ButtonOptions, ButtonParams, Configuration, Index, Options, Pages, PaginationParams } from './types';\nimport { clearCache, clearFullCache, fromCache, writeCache } from './utils/cache';\nimport { debounce } from './utils/debounce';\nimport { render } from './utils/render';\nimport { Scrollbar } from './utils/scrollbar';\n\n\n// Export all types\nexport * from './types';\n\n\nconst ID_NAME = (count: number) => `caroucssel-${count}`;\nconst ID_MATCH = /^caroucssel-[0-9]*$/;\n\nconst CACHE_KEY_INDEX = 'index';\nconst CACHE_KEY_ITEMS = 'items';\nconst CACHE_KEY_PAGES = 'pages';\nconst CACHE_KEY_PAGE_INDEX = 'page-index';\nconst CACHE_KEY_SCROLLBAR = 'scrollbar';\n\nconst VISIBILITY_OFFSET = 0.25;\n\nconst INVISIBLE_ELEMENTS = /^(link|meta|noscript|script|style|title)$/i;\n\nconst EVENT_SCROLL = 'scroll';\nconst EVENT_RESIZE = 'resize';\n\nconst DEFAULTS_BUTTON_PREVIOUS: Required<ButtonOptions> = {\n\tclassName: 'is-previous',\n\tlabel: 'Previous',\n\ttitle: 'Go to previous',\n};\n\nconst DEFAULTS_BUTTON_NEXT: Required<ButtonOptions> = {\n\tclassName: 'is-next',\n\tlabel: 'Next',\n\ttitle: 'Go to next',\n};\n\nconst DEFAULTS: Configuration = {\n\t// Buttons:\n\thasButtons: false,\n\tbuttonClassName: 'button',\n\tbuttonTemplate: ({ className, controls, label, title }: ButtonParams) => `\n\t\t<button type=\"button\" class=\"${className}\" aria-label=\"${label}\" title=\"${title}\" aria-controls=\"${controls}\">\n\t\t\t<span>${label}</span>\n\t\t</button>\n\t`,\n\tbuttonPrevious: DEFAULTS_BUTTON_PREVIOUS,\n\tbuttonNext: DEFAULTS_BUTTON_NEXT,\n\n\t// Pagination:\n\thasPagination: false,\n\tpaginationClassName: 'pagination',\n\tpaginationLabel: ({ index }) => `${index + 1}`,\n\tpaginationTitle: ({ index }) => `Go to ${index + 1}. page`,\n\tpaginationTemplate: ({ className, controls, pages, label, title }: PaginationParams) => `\n\t\t<ul class=\"${className}\">\n\t\t\t${pages.map((page, index) => {\n\t\t\t\tconst data = { index, page, pages };\n\t\t\t\tconst labelStr = label(data);\n\t\t\t\tconst titleStr = title(data);\n\t\t\t\treturn `<li>\n\t\t\t\t\t<button type=\"button\" aria-controls=\"${controls}\" aria-label=\"${titleStr}\" title=\"${titleStr}\">\n\t\t\t\t\t\t<span>${labelStr}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</li>`;\n\t\t\t}).join('')}\n\t\t</ul>\n\t`,\n\n\t// Scrollbars, set to true when use default scrolling behaviour\n\thasScrollbars: false,\n\tscrollbarsMaskClassName: 'caroucssel-mask',\n\n\t// filter\n\tfilterItem: () => true,\n\n\t// Hooks:\n\tonScroll: () => undefined,\n};\n\n\nlet __instanceCount = 0;\nlet __scrollbar: Scrollbar;\n\n\nexport class Carousel {\n\n\tpublic static resetInstanceCount(): void {\n\t\t// This can be used for testing purposes to reset the instance count which is\n\t\t// used to create unique id's.\n\t\tif (process.env.NODE_ENV === 'test') {\n\t\t\t__instanceCount = 0;\n\t\t}\n\t}\n\n\tprotected _el: Element;\n\n\tprotected _id: string;\n\n\tprotected _conf: Configuration;\n\n\tprotected _mask: HTMLDivElement | null = null;\n\n\tprotected _isSmooth = false;\n\n\tprotected _previous: HTMLButtonElement | null = null;\n\n\tprotected _next: HTMLButtonElement | null = null;\n\n\tprotected _pagination: HTMLElement | null = null;\n\n\tprotected _paginationButtons: HTMLButtonElement[] | null = null;\n\n\tconstructor(el: Element, options: Options = {}) {\n\t\tif (!el || !(el instanceof Element)) {\n\t\t\tthrow new Error(`Carousel needs a dom element but \"${(typeof el)}\" was passed.`);\n\t\t}\n\n\t\tthis._el = el;\n\n\t\t// Create a singleton instance of scrollbar for all carousel instances:\n\t\t__scrollbar = __scrollbar || new Scrollbar();\n\n\t\t// Count all created instances to create unique id, if given dom element\n\t\t// has no id-attribute:\n\t\t__instanceCount++;\n\t\tel.id = el.id || ID_NAME(__instanceCount);\n\t\tthis._id = el.id;\n\n\t\t// Mask will be rendered after scrollbar detection.\n\t\tthis._mask = null;\n\n\t\t// extend options and defaults:\n\t\tconst opts = { ...DEFAULTS, ...options };\n\t\tthis._conf = opts;\n\n\t\t// Render:\n\t\tthis._addButtons();\n\t\tthis._addPagination();\n\t\tthis._updateScrollbars();\n\n\t\t// Set initial index and set smooth scrolling:\n\t\tswitch (true) {\n\t\t\t// When index is a list:\n\t\t\tcase Array.isArray(options.index):\n\t\t\t\tthis.index = options.index as Index;\n\t\t\t\tbreak;\n\t\t\t// When index is a number, transfrom to list:\n\t\t\tcase !isNaN(options.index as number):\n\t\t\t\tthis.index = [options.index as number];\n\t\t\t\tbreak;\n\t\t}\n\t\tthis._isSmooth = true;\n\n\t\t// Events:\n\t\t//\n\t\t// We disable @typescript-eslint/unbound-method here because we already bound\n\t\t// the functions while creating a debounced version. This would also cause\n\t\t// reference errors when tying to access these function references when used\n\t\t// with removeEventListeners() (see: destroy())\n\t\t//\n\t\t/* eslint-disable @typescript-eslint/unbound-method */\n\t\tthis._onScroll = debounce(this._onScroll.bind(this), 25);\n\t\tthis._onResize = debounce(this._onResize.bind(this), 25);\n\t\tel.addEventListener(EVENT_SCROLL, this._onScroll);\n\t\twindow.addEventListener(EVENT_RESIZE, this._onResize);\n\t\t/* eslint-enable @typescript-eslint/unbound-method */\n\t}\n\n\tget el(): Element {\n\t\treturn this._el;\n\t}\n\n\tget id(): string {\n\t\treturn this._id;\n\t}\n\n\tget index(): Index {\n\t\treturn fromCache(this, CACHE_KEY_INDEX, () => {\n\t\t\tconst { el, items } = this;\n\t\t\tconst { length } = items;\n\t\t\tconst { clientWidth } = el;\n\t\t\tconst outerLeft = el.getBoundingClientRect().left;\n\n\t\t\tconst index: number[] = [];\n\t\t\tlet at = 0;\n\n\t\t\tfor (;at < length; at++) {\n\t\t\t\tconst item = items[at];\n\t\t\t\tconst rect = item.getBoundingClientRect();\n\t\t\t\tconst { width } = rect;\n\t\t\t\tlet { left } = rect;\n\t\t\t\tleft = left - outerLeft;\n\n\t\t\t\tif (left + width * VISIBILITY_OFFSET >= 0 &&\n\t\t\t\t\tleft + width * (1 - VISIBILITY_OFFSET) <= clientWidth) {\n\t\t\t\t\tindex.push(at);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (index.length === 0) {\n\t\t\t\t// If no index found, we return a [0] as default. This possibly happens\n\t\t\t\t// when the carousel is not attached to the DOM or is visually hidden (display: none).\n\t\t\t\treturn [0];\n\t\t\t}\n\n\t\t\treturn index as Index;\n\t\t});\n\t}\n\n\tset index(values: Index) {\n\t\tconst { el, items } = this;\n\t\tconst { length } = items;\n\n\t\tif (!Array.isArray(values) || !values.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet value = values[0] || 0;\n\t\tvalue = Math.max(Math.min(value, length - 1), 0);\n\n\t\tconst { scrollLeft } = el;\n\t\tconst from = { left: scrollLeft };\n\t\tconst to = { left: items[value].offsetLeft };\n\n\t\t// If the target item is the first visible element in the list, ignore\n\t\t// the possible offset to the left and scroll to the beginning of the list:\n\t\tif (value === this.pages[0][0]) {\n\t\t\tto.left = 0;\n\t\t}\n\n\t\tif (from.left === to.left) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearCache(this, CACHE_KEY_INDEX);\n\n\t\tconst behavior = this._isSmooth ? 'smooth' : 'auto';\n\t\tel.scrollTo({ ...to, behavior });\n\t}\n\n\tget items(): HTMLElement[] {\n\t\treturn fromCache(this, CACHE_KEY_ITEMS, () => {\n\t\t\tconst { el, _conf: { filterItem } } = this;\n\t\t\tconst children = Array.from(el.children) as HTMLElement[];\n\n\t\t\treturn children\n\t\t\t\t.filter((item) => !INVISIBLE_ELEMENTS.test(item.tagName) && !item.hidden)\n\t\t\t\t.filter(filterItem);\n\t\t});\n\t}\n\n\tget pages(): Pages {\n\t\treturn fromCache(this, CACHE_KEY_PAGES, (): Pages => {\n\t\t\tconst { el, items } = this;\n\t\t\tconst { clientWidth: viewport } = el;\n\n\t\t\tif (viewport === 0) {\n\t\t\t\t// if the width of the carousel element is zero, we can not calculate\n\t\t\t\t// the pages properly and the carousel seems to be not visible. If\n\t\t\t\t// this is the case, we assume that each item is placed on a\n\t\t\t\t// separate page.\n\t\t\t\treturn items.map((item, index) => [index] as Index) as Pages;\n\t\t\t}\n\n\t\t\ttype Dataset = {\n\t\t\t\titem: HTMLElement;\n\t\t\t\tleft: number;\n\t\t\t\twidth: number;\n\t\t\t\tindex: number;\n\t\t\t};\n\n\t\t\tlet pages: Dataset[][] = [[]];\n\n\t\t\titems\n\t\t\t\t.map((item, index): Dataset => {\n\t\t\t\t\t// Create a re-usable dataset for each item:\n\t\t\t\t\tconst { offsetLeft: left, clientWidth: width } = item;\n\t\t\t\t\treturn { left, width, item, index };\n\t\t\t\t})\n\t\t\t\t.sort((a, b) => {\n\t\t\t\t\t// Create ordered list of items based on their visual ordering.\n\t\t\t\t\t// This may differ from the DOM ordering unsing css properties\n\t\t\t\t\t// like `order` in  flexbox or grid:\n\t\t\t\t\treturn a.left - b.left;\n\t\t\t\t})\n\t\t\t\t.forEach((item) => {\n\t\t\t\t\t// Calculate pages / page indexes for each item:\n\t\t\t\t\t//\n\t\t\t\t\t// The idea behind the calculation of the pages is to separate\n\t\t\t\t\t// the items by fitting them into the viewport of the carousel.\n\t\t\t\t\t// To behave correctly, we cannot divide the total length of the\n\t\t\t\t\t// carousel by the viewport to get the page indexes (naive approach).\n\t\t\t\t\t// However, since there may be items that are partially visible\n\t\t\t\t\t// on a page, but mathematically create a new page. The calculation\n\t\t\t\t\t// must start from this item again. This means that always the\n\t\t\t\t\t// first item on a page sets the basis for the calculation of\n\t\t\t\t\t// the following item and its belonging to the current or next\n\t\t\t\t\t// page:\n\t\t\t\t\tconst { left, width } = item;\n\n\t\t\t\t\tconst prevPage = pages[pages.length - 1];\n\t\t\t\t\tconst firstItem = prevPage[0];\n\t\t\t\t\tlet start = firstItem?.left || 0;\n\n\t\t\t\t\t// This is required for the first page. The first page always\n\t\t\t\t\t// needs to start from the left=0. Any offset from the\n\t\t\t\t\t// left of the first visual item needs to be ignored, otherwise\n\t\t\t\t\t// the calculation of visual pages is incorrect:\n\t\t\t\t\tif (prevPage === pages[0]) {\n\t\t\t\t\t\tstart = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t// At least 75% of the items needs to be in the page. Calculate\n\t\t\t\t\t// the amount of new pages to add. If value is 0, the current\n\t\t\t\t\t// item fits into the previous page:\n\t\t\t\t\tlet add = Math.floor(((left - start) + width * (1 - VISIBILITY_OFFSET)) / viewport);\n\n\t\t\t\t\twhile(add > 0) {\n\t\t\t\t\t\tpages.push([]);\n\t\t\t\t\t\tadd--;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst page = pages[pages.length - 1];\n\t\t\t\t\tpage.push(item);\n\t\t\t\t});\n\n\t\t\t// Remove empty pages: this might happen if items are wider than the\n\t\t\t// carousel viewport:\n\t\t\tpages = pages.filter((page) => page.length !== 0);\n\n\t\t\t// Restructure pages to only contain the index of each item:\n\t\t\treturn pages.map((page) => page.map(({ index }) => index) as Index) as Pages;\n\t\t});\n\t}\n\n\tget pageIndex(): number {\n\t\treturn fromCache(this, CACHE_KEY_PAGE_INDEX, () => {\n\t\t\tconst { el, items, index, pages } = this;\n\t\t\tconst outerLeft = el.getBoundingClientRect().left;\n\t\t\tconst { clientWidth } = el;\n\n\t\t\tlet visibles: number[] = index.reduce<number []>((acc, at) => {\n\t\t\t\tif (!items[at]) {\n\t\t\t\t\treturn acc;\n\t\t\t\t}\n\n\t\t\t\tlet { left, right } = items[at].getBoundingClientRect();\n\t\t\t\t// \"getBoundingClientRect()\" can return float numbers which\n\t\t\t\t// lead to an unwanted behavior when in the calculation with\n\t\t\t\t// \"clientWidth\" (not using floats). We use round here to\n\t\t\t\t// normalize those values...\n\t\t\t\tleft = Math.round(left - outerLeft);\n\t\t\t\tright = Math.round(right - outerLeft);\n\n\t\t\t\t// Remove items that partially hidden to the left or right:\n\t\t\t\tif (left < 0 || clientWidth < right) {\n\t\t\t\t\treturn acc;\n\t\t\t\t}\n\n\t\t\t\treturn acc.concat([at]);\n\t\t\t}, []);\n\n\t\t\t// There might be no possible candidates. This is the case when items\n\t\t\t// are wider than the element viewport. In this case we take the first\n\t\t\t// item which is currently visible in general (might be the only one):\n\t\t\tif (visibles.length === 0) {\n\t\t\t\tvisibles = [index[0]];\n\t\t\t}\n\n\t\t\t// Search for the visible item that is most aligned to the right. The\n\t\t\t// found item marks the current page...\n\t\t\tconst at = visibles.sort((a, b) => {\n\t\t\t\tconst rightA = items[a].getBoundingClientRect().right;\n\t\t\t\tconst rightB = items[b].getBoundingClientRect().right;\n\t\t\t\treturn rightB - rightA;\n\t\t\t})[0];\n\n\t\t\t// Find the page index where the current item index is located...\n\t\t\treturn pages.findIndex((page) => page.includes(at));\n\t\t});\n\t}\n\n\tdestroy(): void {\n\t\tconst { el } = this;\n\n\t\t// Remove created id if it was created by carousel:\n\t\tID_MATCH.test(el.id) && el.removeAttribute('id');\n\n\t\t// Remove buttons:\n\t\tthis._removeButtons();\n\n\t\t// Remove pagination:\n\t\tthis._removePagination();\n\n\t\t// Remove scrollbars:\n\t\tthis._removeScrollbars();\n\n\t\t// Remove events:\n\t\t//\n\t\t// We need to work the the function reference. Using .bind() would create a\n\t\t// new referenced instance of the callback function. We already created a\n\t\t// bound version of these function within the constructor.\n\t\t//\n\t\t/* eslint-disable @typescript-eslint/unbound-method */\n\t\tel.removeEventListener(EVENT_SCROLL, this._onScroll);\n\t\twindow.removeEventListener(EVENT_RESIZE, this._onResize);\n\t\t/* eslint-enable @typescript-eslint/unbound-method */\n\n\t\t// Clear cache:\n\t\tclearFullCache(this);\n\t}\n\n\tupdate(): void {\n\t\tclearFullCache(this);\n\n\t\tthis._updateButtons();\n\t\tthis._updatePagination();\n\t\tthis._updateScrollbars();\n\t}\n\n\tprotected _updateScrollbars(): void {\n\t\tconst { el , _conf: _options } = this;\n\t\tconst { hasScrollbars, scrollbarsMaskClassName } = _options;\n\t\tif (hasScrollbars) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet { height } = __scrollbar.dimensions;\n\n\t\tif (el.scrollWidth <= el.clientWidth) {\n\t\t\t// If the contents are not scrollable because their width are less\n\t\t\t// than the container, there will be no visible scrollbar. In this\n\t\t\t// case, the scrollbar height is 0:\n\t\t\theight = 0;\n\t\t}\n\n\t\tthis._mask = this._mask || (() => {\n\t\t\tconst mask = document.createElement('div');\n\t\t\tmask.className = scrollbarsMaskClassName;\n\t\t\tmask.style.overflow = 'hidden';\n\t\t\tmask.style.height = '100%';\n\t\t\tel.parentNode?.insertBefore(mask, this.el);\n\t\t\tmask.appendChild(el);\n\t\t\treturn mask;\n\t\t})();\n\n\t\tconst cachedHeight = fromCache<number | undefined>(this, CACHE_KEY_SCROLLBAR, () => undefined);\n\t\tif (height === cachedHeight) {\n\t\t\treturn;\n\t\t}\n\n\t\twriteCache(this, CACHE_KEY_SCROLLBAR, height);\n\n\t\tconst element = el as HTMLElement | SVGElement;\n\t\telement.style.height = `calc(100% + ${height}px)`;\n\t\telement.style.marginBottom = `${height * -1}px`;\n\t}\n\n\tprotected _removeScrollbars(): void {\n\t\tconst { _mask, el } = this;\n\t\tif (!_mask) {\n\t\t\treturn;\n\t\t}\n\n\t\t_mask.parentNode?.insertBefore(el, _mask);\n\t\t_mask.parentNode?.removeChild(_mask);\n\t\tel.removeAttribute('style');\n\n\t\tthis._mask = null;\n\t}\n\n\tprotected _addButtons(): void {\n\t\tconst { el, id, _conf: _options } = this;\n\t\tif (!_options.hasButtons) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { buttonTemplate, buttonClassName, buttonPrevious, buttonNext } = _options;\n\t\tconst controls = id;\n\t\t// Create button elements:\n\t\tconst [previous, next] = [\n\t\t\t{ ...DEFAULTS_BUTTON_PREVIOUS, ...buttonPrevious, controls, className: [buttonClassName, buttonPrevious.className].join(' ') },\n\t\t\t{ ...DEFAULTS_BUTTON_NEXT, ...buttonNext, controls, className: [buttonClassName, buttonNext.className].join(' ') },\n\t\t].map((params) => render<HTMLButtonElement, ButtonParams>(buttonTemplate, params))\n\n\n\t\tif (previous) {\n\t\t\tconst onPrevious = () => {\n\t\t\t\tconst { pages, pageIndex } = this;\n\t\t\t\tconst index = pages[pageIndex - 1] || pages[0];\n\t\t\t\tthis.index = index;\n\t\t\t};\n\n\t\t\tprevious.onclick = onPrevious;\n\t\t\tel.parentNode?.appendChild(previous);\n\t\t}\n\t\tthis._previous = previous;\n\n\t\tif (next) {\n\t\t\tconst onNext = () => {\n\t\t\t\tconst { pages, pageIndex } = this;\n\t\t\t\tconst index = pages[pageIndex + 1] || pages[pages.length - 1];\n\t\t\t\tthis.index = index;\n\t\t\t};\n\n\t\t\tnext.onclick = onNext;\n\t\t\tel.parentNode?.appendChild(next);\n\t\t}\n\t\tthis._next = next;\n\n\t\tthis._updateButtons();\n\t}\n\n\tprotected _updateButtons(): void {\n\t\tconst { _conf: _options } = this;\n\t\tif (!_options.hasButtons) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { pages, pageIndex, _previous, _next } = this;\n\n\t\tif (_previous) {\n\t\t\tconst firstPage = pages[pageIndex - 1];\n\t\t\tconst isFirstPage = firstPage === undefined;\n\t\t\t_previous.disabled = isFirstPage;\n\t\t}\n\n\t\tif (_next) {\n\t\t\tconst lastPage = pages[pageIndex + 1];\n\t\t\tconst isLastPage = lastPage === undefined;\n\t\t\t_next.disabled = isLastPage;\n\t\t}\n\t}\n\n\tprotected _removeButtons(): void {\n\t\tconst { _previous, _next } = this;\n\t\t[_previous, _next].forEach((button) => {\n\t\t\tif (!button) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tbutton.onclick = null;\n\t\t\tbutton.parentNode?.removeChild(button);\n\t\t});\n\t}\n\n\tprotected _addPagination(): void {\n\t\tconst { _conf: _options } = this;\n\t\tif (!_options.hasPagination) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { _mask, el, id, pages } = this;\n\t\tif (pages.length < 2) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { paginationTemplate, paginationClassName, paginationLabel, paginationTitle } = _options;\n\t\tconst pagination = render(paginationTemplate, {\n\t\t\tpages,\n\t\t\tcontrols: id,\n\t\t\tclassName: paginationClassName,\n\t\t\tlabel: paginationLabel,\n\t\t\ttitle: paginationTitle,\n\t\t});\n\n\t\tif (!pagination) {\n\t\t\treturn;\n\t\t}\n\n\t\t// @TODO: Add template for buttons:\n\t\tconst buttons = Array.from(pagination.querySelectorAll<HTMLButtonElement>('button'))\n\t\t\t.map((button, index) => {\n\t\t\t\tbutton.onclick = () => this.index = pages[index];\n\t\t\t\treturn button;\n\t\t\t});\n\n\t\tconst target = (_mask || el).parentNode;\n\t\ttarget?.appendChild(pagination);\n\t\tthis._pagination = pagination;\n\t\tthis._paginationButtons = buttons;\n\n\t\tthis._updatePagination();\n\t}\n\n\tprotected _updatePagination(): void {\n\t\tconst { _conf: _options } = this;\n\t\tif (!_options.hasPagination) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { pageIndex, _paginationButtons } = this;\n\t\tif (!_paginationButtons) {\n\t\t\treturn;\n\t\t}\n\n\t\t_paginationButtons.forEach((button, at) => button.disabled = (at === pageIndex));\n\t}\n\n\tprotected _removePagination(): void {\n\t\tconst { _pagination, _paginationButtons } = this;\n\t\t(_paginationButtons || []).forEach((button) => {\n\t\t\tbutton.onclick = null;\n\t\t\tbutton.parentNode?.removeChild(button);\n\t\t});\n\t\tthis._paginationButtons = null;\n\n\t\t_pagination && _pagination.parentNode?.removeChild(_pagination);\n\t\tthis._pagination = null;\n\t}\n\n\tprotected _onScroll(event: Event): void {\n\t\tclearCache(this, CACHE_KEY_INDEX);\n\t\tclearCache(this, CACHE_KEY_PAGE_INDEX);\n\n\t\tthis._updateButtons();\n\t\tthis._updatePagination();\n\n\t\tconst { index, _conf: { onScroll } } = this;\n\t\tonScroll && onScroll<Carousel>({ index, type: EVENT_SCROLL, target: this, originalEvent: event });\n\t}\n\n\tprotected _onResize(): void {\n\t\tclearCache(this, CACHE_KEY_PAGES);\n\t\tclearCache(this, CACHE_KEY_INDEX);\n\t\tclearCache(this, CACHE_KEY_PAGE_INDEX);\n\n\t\tthis._updateButtons();\n\t\tthis._removePagination();\n\t\tthis._addPagination();\n\t\tthis._updateScrollbars();\n\t}\n\n}\n","import { Carousel } from '../src/caroucssel';\n\nvar element = document.querySelector('.caroucssel');\nvar items = Array.from(document.querySelectorAll('.item'));\n\nif (!element) {\n\tthrow new Error('Missing element for carousel.');\n}\n\nnew Carousel(element, {\n\thasButtons: true,\n\thasPagination: true,\n\tonScroll: function(event) {\n\t\titems.forEach(function(item, index) {\n\t\t\titem.classList[event.index.includes(index) ? 'add' : 'remove']('is-active');\n\t\t});\n\t}\n});\n"]}